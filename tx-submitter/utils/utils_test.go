package utils

import (
	"encoding/hex"
	"testing"

	"github.com/stretchr/testify/require"
)

// test ParseBatchIndex
func TestParseBatchIndex(t *testing.T) {
	calldata := "7c41b6ac00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000000006a01569a961a135cd518f1d60b16690ed77cbb57ff41f140666ffb0b1938147c8531e7b0d46e12a1124700d67365d60df674e29aedc1aebfab8a2516418dcb3bf2227ae5ba08d7291c96c8cbddcc148bf48a6d68c7974b94356f53754ef6171d757000000000000000000000000000000000000000000000000000000000000007900000000000000001000000000000000000000000000000004990fbff45d7e8597d187ce8259265d90fe605c7d19e9988e1bf8f7d66cc7758f01a327088bb2b13151449d8313c281d0006d12e8453e863637b746898b6ad5a63ca0f329a4dd37e80ce4b871ad90e271ea9c989cb1c3fc0a8b7e2b597f9309d4000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004b114000000000000012e00000000665d92ba0000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000012f00000000665d92c10000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013000000000665d92c70000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013100000000665d92cd0000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013200000000665d92d40000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013300000000665d92da0000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013400000000665d92e00000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013500000000665d92e70000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013600000000665d92ed0000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013700000000665d92f40000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013800000000665d92fa0000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013900000000665d93000000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013a00000000665d93040000000000000000000000000000000000000000000000000000000000000000000000000098968000010000000000000000013b00000000665d930b0000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013c00000000665d93110000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013d00000000665d93180000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013e00000000665d931e0000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000013f00000000665d93240000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000014000000000665d932b0000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000014100000000665d93310000000000000000000000000000000000000000000000000000000000000000000000000098968000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000004000000000000000000000000310824aa27a29d269d2f9c0a8563c0e3c98dd226000000000000000000000000343c5154ffe47c8a07df5ea6846404e68e9809a2000000000000000000000000783698dcdebdc96785c5c60ed96113612ba09c2b000000000000000000000000aac606d51de6a5abf0d1b9dbd5ed5ff2ac2e521b00000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000783698dcdebdc96785c5c60ed96113612ba09c2b000000000000000000000000310824aa27a29d269d2f9c0a8563c0e3c98dd226000000000000000000000000343c5154ffe47c8a07df5ea6846404e68e9809a2000000000000000000000000aac606d51de6a5abf0d1b9dbd5ed5ff2ac2e521b0000000000000000000000000000000000000000000000000000000000000004000000000000000000000000783698dcdebdc96785c5c60ed96113612ba09c2b000000000000000000000000310824aa27a29d269d2f9c0a8563c0e3c98dd226000000000000000000000000343c5154ffe47c8a07df5ea6846404e68e9809a2000000000000000000000000aac606d51de6a5abf0d1b9dbd5ed5ff2ac2e521b0000000000000000000000000000000000000000000000000000000000000004000000000000000000000000783698dcdebdc96785c5c60ed96113612ba09c2b000000000000000000000000310824aa27a29d269d2f9c0a8563c0e3c98dd226000000000000000000000000343c5154ffe47c8a07df5ea6846404e68e9809a2000000000000000000000000aac606d51de6a5abf0d1b9dbd5ed5ff2ac2e521b0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000523732e2d1bd32915c305d4c1c444a45d8d86bfac774ebe433fe9189e2e19e9191d060297472b470e78145e09b3572600000000000000000000000000000000039635922129044f931b0ae73aa7c0f1d4224f0ec6d72bd87ab0d436bbf26e0ca7e2bf29ee3ee94850a87be7c6c77deb"
	bs, err := hex.DecodeString(calldata)
	require.NoError(t, err)
	require.EqualValues(t, ParseParentBatchIndex(bs), 16)
}
